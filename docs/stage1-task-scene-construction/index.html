<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Stage 1: Task and Scene Construction - ManipAsInSim's Sim-to-Real Tutorial</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.6.1, mkdocs-gitbook-1.0.7">
<meta name="author" content="ManipAsInSim Team">
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="../css/style.min.css" rel="stylesheet">
<link href="../assets/_mkdocstrings.css" rel="stylesheet">
<link href="../custom.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href=".."  class="custom-link">ManipAsInSim's Sim-to-Real Tutorial</a>
</li>
<li class="divider"></li>
<li class="header"><a href="../stage1-task-scene-construction/index.html" class="header">Stage 1 - Task and Scene Construction</a></li>

<li>
<a href="../stage1-task-scene-construction#overview" class="">Overview</a>
</li>

<li class="subheader">
<a href="../stage1-task-scene-construction#task-example" class="">Task Example</a>
</li>

<li class="subitem">
<a href="../stage1-task-scene-construction#task-description" class="">Task Description</a>
</li>

<li class="subitem">
<a href="../stage1-task-scene-construction#asset-collection" class="">Asset Collection</a>
</li>

<li class="subitem">
<a href="../stage1-task-scene-construction#position-measurement" class="">Position Measurement</a>
</li>

<li class="subitem">
<a href="../stage1-task-scene-construction#simulation-implementation" class="">Simulation Implementation</a>
</li>

<li>
<a href="../stage1-task-scene-construction#code-reference" class="">Code Reference</a>
</li>

<li>
<a href="../stage1-task-scene-construction#next-steps" class="">Next Steps</a>
</li>

<li class="header"><a href="../stage2-calibration/index.html" class="header">Stage 2 - Camera Calibration</a></li>

<li>
<a href="../stage2-calibration#overview" class="">Overview</a>
</li>

<li>
<a href="../stage2-calibration#calibration-workflow" class="">Calibration Workflow</a>
</li>

<li>
<a href="../stage2-calibration#advanced-techniques" class="">Advanced Techniques</a>
</li>

<li>
<a href="../stage2-calibration#code-reference" class="">Code Reference</a>
</li>

<li>
<a href="../stage2-calibration#calibration-data-management" class="">Calibration Data Management</a>
</li>

<li>
<a href="../stage2-calibration#next-steps" class="">Next Steps</a>
</li>

<li class="header"><a href="../stage3-data-generation/index.html" class="header">Stage 3 - Data Generation</a></li>

<li>
<a href="../stage3-data-generation#overview" class="">Overview</a>
</li>

<li>
<a href="../stage3-data-generation#data-collection" class="">Data Collection</a>
</li>

<li class="subheader">
<a href="../stage3-data-generation#task-decomposition-and-annotation" class="">Task Decomposition and Annotation</a>
</li>

<li class="subitem">
<a href="../stage3-data-generation#kitchen-task-subtask" class="">Kitchen task example</a>
</li>

<li class="subitem">
<a href="../stage3-data-generation#canteen-task-subtask" class="">Canteen task example</a>
</li>

<li>
<a href="../stage3-data-generation#large-scale-data-generation" class="">Large-scale Data Generation</a>
</li>

<li class="subheader">
<a href="../stage3-data-generation#compare-with-mimicgen" class="">Comparison with Mimicgen</a>
</li>

<li class="subitem">
<a href="../stage3-data-generation#data-generation-of-mobile-manipulator" class="">Data Generation of Mobile Manipulator</a>
</li>

<li>
<a href="../stage3-data-generation#detail-of-wbcmimicgen" class="">Detail of WBCMimicGen</a>
</li>

<li>
<a href="../stage3-data-generation#code-reference" class="">Code Reference</a>
</li>

<li>
<a href="../stage3-data-generation#next-steps" class="">Next Steps</a>
</li>

<li class="header"><a href="../stage4-imitation-learning-deployment/index.html" class="header">Stage 4 - Imitation Learning and Deployment</a></li>

<li>
<a href="../stage4-imitation-learning-deployment#overview" class="">Overview</a>
</li>

<li>
<a href="../stage4-imitation-learning-deployment#policy-training" class="">Policy Training</a>
</li>

<li>
<a href="../stage4-imitation-learning-deployment#real-world-deployment" class="">Real-World Deployment</a>
</li>

<li>
<a href="../stage4-imitation-learning-deployment#code-reference" class="">Code Reference</a>
</li>

<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="stage-1-task-and-scene-construction">Stage 1: Task and Scene Construction<a class="headerlink" href="#stage-1-task-and-scene-construction" title="Permanent link"></a></h1>

<h2 id="overview" style="margin: 10px 0; padding: 0px">Overview<a class="headerlink" href="#overview" title="Permanent link"></a></h2>

<div style="margin: 0px 0; padding: 0px; background: linear-gradient(to right, #f8f9fa, #ffffff); border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
   <div style="position: relative; width: 100%; max-width: 1200px; margin: 0 auto; overflow-x: auto;">
   <img src="../images/stage-pictures/cdm-pipeline-seq-stage-1.png" alt="ManipAsInSim Pipeline Overview" style="width: 100%; height: auto; display: block; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
   </div>
</div>

<p>Scene construction is the foundation of sim-to-real transfer, where a high-fidelity simulation environment that accurately represents the real-world workspace needs creating. This involves three key steps: identifying and collecting all necessary assets (robots, objects, and environment elements), precisely measuring their spatial relationships in the real world, and systematically configuring them in the simulator with appropriate physical properties and randomization ranges.</p>
<ol>
<li>
<p>Asset Identification and Collection: Analyze and collect all physical elements involved in the task, including the robot system, work surfaces, target objects, and environmental fixtures. Assets can be sourced from simple geometric primitives, open-source libraries like PartNet-Mobility and YCB Dataset, or custom models created for specific requirements.</p>
</li>
<li>
<p>Spatial Measurement and Positioning: Measure the precise positions and orientations of all components in the real environment using laser rangefinders or calibration boards. Document fixed positions (robot base, equipment placement), randomization ranges for dynamic objects, and operational boundaries to ensure accurate spatial relationships in simulation.</p>
</li>
<li>
<p>Simulation Environment Setup: Configure the simulation scene based on measured data, setting up static elements at their exact positions, defining randomization ranges for dynamic objects, and assigning appropriate physical properties (mass, friction, collision models) to ensure realistic interactions during task execution. </p>
</li>
</ol>
<h2 id="task-example">Task Example<a class="headerlink" href="#task-example" title="Permanent link"></a></h2>
<p>Using the kitchen microwave task and the canteen task as the examples to demonstrate the complete scene construction process.</p>
<h3 id="task-description">Task Description<a class="headerlink" href="#task-description" title="Permanent link"></a></h3>
<p>Kitchen task: The robot needs to grasp a bowl, place it in the microwave, and close the microwave door.</p>
<p>Canteen task: The robot needs to grasp a fork, place it in the blanket, and then grasp a plate.</p>
<h3 id="asset-collection">Asset Collection<a class="headerlink" href="#asset-collection" title="Permanent link"></a></h3>
<p>Main assets involved in the Kitchen task include:</p>
<ul>
<li>UR5 robot and its fixed base</li>
<li>Work surface</li>
<li>Microwave (articulated model with openable door)</li>
<li>Bowl (graspable rigid body object)</li>
</ul>
<p>Main assets involved in the Canteen task include:</p>
<ul>
<li>UR5 robot and its fixed base</li>
<li>Work surface</li>
<li>Blankets</li>
<li>Fork (graspable rigid body object)</li>
<li>Plate (graspable rigid body object)</li>
</ul>
<p><img alt="Image #1" src="../images/assets.jpg" /></p>
<h3 id="position-measurement">Position Measurement<a class="headerlink" href="#position-measurement" title="Permanent link"></a></h3>
<p>Precise measurements in the real environment:</p>
<p><img alt="Image #1" src="../images/00ffea.png" /> 
<img alt="Image #1" src="../images/00ffea.png" />
(The image of real-world measure)</p>
<h3 id="simulation-implementation">Simulation Implementation<a class="headerlink" href="#simulation-implementation" title="Permanent link"></a></h3>
<p>Configure the scene in IsaacLab based on measurement results:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Scene Configuration Key Points:
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>- Use fixed relative coordinate system
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>- Set reasonable physical parameters
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>- Configure collision detection and grasping constraints
</code></pre></div>
<!-- 
## Canteen Task Example

### Task Description
The robot performs plate cleaning and item organization in a canteen scene.

### Asset Collection

Key assets for the Canteen task:

- UR5 robot system
- Plates and utensils
- Storage rack
- Trash bin
- Other restaurant items

![Image #1](images/00ffea.png)

### Spatial Layout

Measure and set up complex multi-object scene:

1. **Work Area Division**
   - Pickup area: robot's left side
   - Cleaning area: robot's right side
   - Storage area: robot's front

2. **Object Position Randomization**
   - Plate positions: random within designated area
   - Utensil orientations: random rotation angles
   - Stacking height: supports multi-layer stacking

![Image #1](images/00ffea.png) -->

<h2 id="code-reference">Code Reference<a class="headerlink" href="#code-reference" title="Permanent link"></a></h2>
<p>Specific scene configuration implementations can be found in the following codebases:</p>
<p><strong>Kitchen Task Scene Configuration:</strong></p>
<ul>
<li>File path: <code>manip-as-in-sim-suite/wbcmimic/source/isaaclab_mimic/isaaclab_mimic/tasks/manager_based/ur5_sim/ur5_put_bowl_in_microwave_and_close.py</code></li>
<li>Contains position settings and physical property configurations for microwave, bowl, and other assets</li>
</ul>
<p><strong>Canteen Task Scene Configuration:</strong></p>
<ul>
<li>File path: <code>manip-as-in-sim-suite/wbcmimic/source/isaaclab_mimic/isaaclab_mimic/tasks/manager_based/ur5_sim/ur5_clean_plate.py</code></li>
<li>Demonstrates multi-object scene construction methods</li>
</ul>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link"></a></h2>
<p>After completing scene construction, the next stage involves camera calibration to ensure visual observations in simulation are consistent with the real environment. This is crucial for vision-based policy learning.</p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<style>
/* Hide search results by default */
#book-search-results .search-results {
    display: none;
}
#book-search-results.active .search-noresults {
    display: none;
}
#book-search-results.active .search-results {
    display: block;
}
</style>
<script>
var base_url = '..';
var min_search_length = 3;
</script>
<script src="../js/main.js"></script>
<script src="../search/main.js"></script>
<script src="../js/gitbook.min.js"></script>
<script src="../js/theme.min.js"></script>
<script src="../js/nav-hierarchy.js"></script>
</body>
</html>